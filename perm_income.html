

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>60. 永久收入模型 &#8212; Python中级数量经济学</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/quantecon-book-theme.css?digest=bd0785fbb14d8d2bd4d9ae501d79ed8d3bc089ec" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>


    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/quantecon-book-theme.js?digest=d9faaf6c4b57726f74ba012412af1f5681bdff87"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-J0SMYR4SG3"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J0SMYR4SG3');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"argmax": "arg\\,max", "argmin": "arg\\,min"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'perm_income';</script>
    <link rel="canonical" href="https://python.quantecon-zh-cn.org/perm_income.html" />
    <link rel="shortcut icon" href="_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="61. 永久收入 II：线性二次方法" href="perm_income_cons.html" />
    <link rel="prev" title="59. 消除交叉项" href="cross_product_trick.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=本课程是由托马斯·萨金特（Thomas J. Sargent）和约翰·斯塔胡斯基（John Stachurski）设计和编写的数量经济建模讲座。 />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="永久收入模型"/>
<meta name="twitter:description" content="本课程是由托马斯·萨金特（Thomas J. Sargent）和约翰·斯塔胡斯基（John Stachurski）设计和编写的数量经济建模讲座。">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="永久收入模型" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://python.quantecon-zh-cn.org/perm_income.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="本课程是由托马斯·萨金特（Thomas J. Sargent）和约翰·斯塔胡斯基（John Stachurski）设计和编写的数量经济建模讲座。" />
<meta property="og:site_name" content="Python中级数量经济学" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>

<!-- Override QuantEcon theme colors -->

    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=perm_income>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">60.1. 概述</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">60.2. 储蓄问题</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">60.2.1. 预备知识</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">60.2.2. 决策问题</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">60.2.3. 假设</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">60.2.4. 一阶条件</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#odr-pi">60.2.5. 最优决策规则</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">60.2.5.1. 对状态的响应</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">60.2.5.2. 状态空间表示</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">60.2.5.3. 一个简单的独立同分布收入示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">60.3. 替代表示方法</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">60.3.1. 霍尔的表示方法</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coint-pi">60.3.2. 协整</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">60.3.3. 横截面含义</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">60.3.4. 脉冲响应函数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">60.3.5. 移动平均表示</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sub-classic-consumption">60.4. 两个经典例子</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">60.4.1. 示例1</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">60.4.2. 示例2</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">60.5. 延伸阅读</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perm-income-appendix">60.6. 附录：欧拉方程</a></li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo-large.png" class="logo logo-img" alt="logo"></a>
                                    
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="intro.html">Python中级数量经济学</a></p>

                        <p class="qe-page__header-subheading">永久收入模型</p>

                    </div>
                    <!-- length 2, since its a string and empty dict has length 2 - {} -->
                        <p class="qe-page__header-authors" font-size="18">
                            
                                
                                    <a href="http://www.tomsargent.com/" target="_blank"><span>托马斯·萨金特（Thomas J. Sargent）</span></a>
                                
                            
                                
                                    and <a href="https://johnstachurski.net/" target="_blank"><span>约翰·斯塔胡斯基（John Stachurski）</span></a>
                                
                            
                        </p>


                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1><a class="toc-backref" href="#id47"><span class="section-number">60. </span><span class="target" id="index-0"></span>永久收入模型</a><a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h1>
<div class="contents topic" id="id2">
<span id="index-1"></span><p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id47">永久收入模型</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id48">概述</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id49">储蓄问题</a></p></li>
<li><p><a class="reference internal" href="#id19" id="id50">替代表示方法</a></p></li>
<li><p><a class="reference internal" href="#sub-classic-consumption" id="id51">两个经典例子</a></p></li>
<li><p><a class="reference internal" href="#id38" id="id52">延伸阅读</a></p></li>
<li><p><a class="reference internal" href="#perm-income-appendix" id="id53">附录：欧拉方程</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="id3">
<h2><a class="toc-backref" href="#id48"><span class="section-number">60.1. </span>概述</a><a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h2>
<p>本讲座介绍了Milton Friedman著名的永久收入模型<span id="id4">[<a class="reference internal" href="zreferences.html#id164" title="M. Friedman. A Theory of the Consumption Function. Princeton University Press, 1956.">Friedman, 1956</a>]</span>的理性预期版本。</p>
<p>Robert Hall在线性二次框架下重新阐述了Friedman的模型<span id="id5">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span>。</p>
<p>与Hall一样，我们将构建一个无限期线性二次储蓄问题。</p>
<p>我们使用这个模型来说明</p>
<ul class="simple">
<li><p>动态系统<em>状态</em>的不同表述方式</p></li>
<li><p><em>协整</em>的概念</p></li>
<li><p>脉冲响应函数</p></li>
<li><p>消费变化作为收入变动预测指标的观点</p></li>
</ul>
<p>关于线性二次高斯永久收入模型的背景阅读材料包括Hall的<span id="id6">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span>和<span id="id7">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span>的第2章。</p>
<p>让我们从一些导入开始</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">FONTPATH</span> <span class="o">=</span> <span class="s2">&quot;fonts/SourceHanSerifSC-SemiBold.otf&quot;</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">font_manager</span><span class="o">.</span><span class="n">fontManager</span><span class="o">.</span><span class="n">addfont</span><span class="p">(</span><span class="n">FONTPATH</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.family&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Source Han Serif SC&#39;</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1">#设置默认图形大小</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">jit</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id49"><span class="section-number">60.2. </span>储蓄问题</a><a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h2>
<p id="index-2">在本节中，我们将阐述并解决消费者面临的储蓄和消费问题。</p>
<section id="id9">
<h3><span class="section-number">60.2.1. </span>预备知识<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h3>
<p>我们使用一类称为<a class="reference external" href="https://en.wikipedia.org/wiki/Martingale_%28probability_theory%29">鞅</a>的随机过程。</p>
<p>离散时间鞅是一个随机过程（即随机变量序列）<span class="math notranslate nohighlight">\(\{X_t\}\)</span>，在每个<span class="math notranslate nohighlight">\(t\)</span>时刻具有有限均值，并满足</p>
<div class="math notranslate nohighlight">
\[
\mathbb{E}_t [X_{t+1} ] = X_t, \qquad t = 0, 1, 2, \ldots
\]</div>
<p>这里<span class="math notranslate nohighlight">\(\mathbb{E}_t := \mathbb{E}[ \cdot \,|\, \mathcal{F}_t]\)</span>是基于时间<span class="math notranslate nohighlight">\(t\)</span>的<em>信息集</em><span class="math notranslate nohighlight">\(\mathcal{F}_t\)</span>的条件数学期望。</p>
<p>后者只是建模者声明在<span class="math notranslate nohighlight">\(t\)</span>时刻可见的随机变量的集合。</p>
<ul class="simple">
<li><p>当没有明确定义时，通常认为<span class="math notranslate nohighlight">\(\mathcal{F}_t = \{X_t, X_{t-1}, \ldots, X_0\}\)</span>。</p></li>
</ul>
<p>鞅具有这样的特性：过去结果的历史对当前和未来结果之间的变化没有预测能力。</p>
<p>例如，参与”公平游戏”的赌徒的当前财富就具有这种特性。</p>
<p>鞅的一个常见类别是<em>随机游走</em>族。</p>
<p><strong>随机游走</strong>是满足以下条件的随机过程 <span class="math notranslate nohighlight">\(\{X_t\}\)</span>：</p>
<div class="math notranslate nohighlight">
\[
X_{t+1} = X_t + w_{t+1}
\]</div>
<p>其中 <span class="math notranslate nohighlight">\(\{w_t\}\)</span> 是某个独立同分布的零均值<em>创新</em>序列。</p>
<p>显然，<span class="math notranslate nohighlight">\(X_t\)</span> 也可以表示为</p>
<div class="math notranslate nohighlight">
\[
X_t = \sum_{j=1}^t w_j + X_0
\]</div>
<p>并非所有鞅都源自随机游走（例如，参见<a class="reference external" href="https://en.wikipedia.org/wiki/Wald%27s_martingale">瓦尔德鞅</a>）。</p>
</section>
<section id="id10">
<h3><span class="section-number">60.2.2. </span>决策问题<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<p>消费者对消费流的偏好由以下效用泛函排序</p>
<div class="math notranslate nohighlight" id="equation-sprob1">
<span class="eqno">(60.1)<a class="headerlink" href="#equation-sprob1" title="Permalink to this equation">#</a></span>\[\mathbb{E}_0 \left[ \sum_{t=0}^\infty \beta^t u(c_t) \right]\]</div>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbb{E}_t\)</span> 是基于消费者在时间 <span class="math notranslate nohighlight">\(t\)</span> 的信息的条件数学期望</p></li>
<li><p><span class="math notranslate nohighlight">\(c_t\)</span> 是时间 <span class="math notranslate nohighlight">\(t\)</span> 的消费</p></li>
<li><p><span class="math notranslate nohighlight">\(u\)</span> 是严格凹的单期效用函数</p></li>
<li><p><span class="math notranslate nohighlight">\(\beta \in (0,1)\)</span> 是贴现因子</p></li>
</ul>
<p>消费者通过选择消费和借贷计划 <span class="math notranslate nohighlight">\(\{c_t, b_{t+1}\}_{t=0}^\infty\)</span> 来最大化 <a class="reference internal" href="#equation-sprob1">(60.1)</a>，同时受到一系列预算约束</p>
<div class="math notranslate nohighlight" id="equation-sprob2">
<span class="eqno">(60.2)<a class="headerlink" href="#equation-sprob2" title="Permalink to this equation">#</a></span>\[c_t + b_t = \frac{1}{1 + r} b_{t+1} +  y_t   \quad t \geq 0\]</div>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y_t\)</span> 是外生禀赋过程</p></li>
<li><p><span class="math notranslate nohighlight">\(r &gt; 0\)</span> 是时间不变的无风险净利率</p></li>
<li><p><span class="math notranslate nohighlight">\(b_t\)</span> 是在 <span class="math notranslate nohighlight">\(t\)</span> 时到期的一期无风险债务</p></li>
</ul>
<p>消费者还面临初始条件 <span class="math notranslate nohighlight">\(b_0\)</span> 和 <span class="math notranslate nohighlight">\(y_0\)</span>，这些可以是固定的或随机的。</p>
</section>
<section id="id11">
<h3><span class="section-number">60.2.3. </span>假设<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h3>
<p>在本讲座的剩余部分，我们遵循 Friedman 和 Hall 的假设，即 <span class="math notranslate nohighlight">\((1 + r)^{-1} = \beta\)</span>。</p>
<p>关于禀赋过程，我们假设它具有<a class="reference internal" href="linear_models.html"><span class="doc">状态空间表示</span></a></p>
<div class="math notranslate nohighlight" id="equation-sprob15ab">
<span class="eqno">(60.3)<a class="headerlink" href="#equation-sprob15ab" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
    z_{t+1} &amp; = A z_t + C w_{t+1}
    \\
    y_t &amp; = U  z_t
\end{aligned}\end{split}\]</div>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\{w_t\}\)</span> 是一个独立同分布的向量过程，其中 <span class="math notranslate nohighlight">\(\mathbb{E} w_t = 0\)</span> 且 <span class="math notranslate nohighlight">\(\mathbb{E} w_t w_t' = I\)</span>。</p></li>
<li><p><span class="math notranslate nohighlight">\(A\)</span> 的<a class="reference internal" href="linear_algebra.html#la-neumann-remarks"><span class="std std-ref">谱半径</span></a> 满足 <span class="math notranslate nohighlight">\(\rho(A) &lt; \sqrt{1/\beta}\)</span>。</p></li>
<li><p><span class="math notranslate nohighlight">\(U\)</span> 是一个选择向量，它将 <span class="math notranslate nohighlight">\(y_t\)</span> 确定为 <span class="math notranslate nohighlight">\(z_t\)</span> 分量的特定线性组合。</p></li>
</ul>
<p>对 <span class="math notranslate nohighlight">\(\rho(A)\)</span> 的限制防止收入增长过快，以致下文将要描述的某些二次型的贴现几何和变为无穷大。</p>
<p>关于偏好，我们假设二次效用函数</p>
<div class="math notranslate nohighlight">
\[
u(c_t) =  - (c_t - \gamma)^2
\]</div>
<p>其中 <span class="math notranslate nohighlight">\(\gamma\)</span> 是消费的极乐水平。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>在这个二次效用函数设定下，我们允许消费为负值。然而，通过适当选择参数，我们可以使模型在有限时间范围内产生负消费路径的概率降低到所需水平。</p>
</div>
<p>最后，我们施加<em>无庞氏骗局</em>条件</p>
<div class="math notranslate nohighlight" id="equation-sprob3">
<span class="eqno">(60.4)<a class="headerlink" href="#equation-sprob3" title="Permalink to this equation">#</a></span>\[\mathbb{E}_0 \left[ \sum_{t=0}^\infty \beta^t b_t^2 \right] &lt; \infty\]</div>
<p>这个条件排除了一种永久借贷的方案，即消费者不能通过持续借贷来永远维持最理想的消费水平。</p>
</section>
<section id="id12">
<h3><span class="section-number">60.2.4. </span>一阶条件<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h3>
<p>对<a class="reference internal" href="#equation-sprob1">(60.1)</a>求最大值（受限于<a class="reference internal" href="#equation-sprob2">(60.2)</a>）的一阶条件是</p>
<div class="math notranslate nohighlight" id="equation-sprob4">
<span class="eqno">(60.5)<a class="headerlink" href="#equation-sprob4" title="Permalink to this equation">#</a></span>\[\mathbb{E}_t [u'(c_{t+1})] = u'(c_t) , \qquad t = 0, 1, \ldots\]</div>
<p>这些最优条件也被称为<em>欧拉方程</em>。</p>
<p>如果你不确定这些条件是如何得出的，可以在<a class="reference internal" href="#perm-income-appendix"><span class="std std-ref">附录</span></a>中找到证明概要。</p>
<p>在我们的二次效用函数设定下，<a class="reference internal" href="#equation-sprob4">(60.5)</a>有一个显著的推论，即消费遵循鞅的性质：</p>
<div class="math notranslate nohighlight" id="equation-sprob5">
<span class="eqno">(60.6)<a class="headerlink" href="#equation-sprob5" title="Permalink to this equation">#</a></span>\[\mathbb{E}_t [c_{t+1}] = c_t\]</div>
<p>（事实上，二次效用函数对于得出这个结论是<em>必要的</em><a class="footnote-reference brackets" href="#f2" id="id13">1</a>。）</p>
<p>解释<a class="reference internal" href="#equation-sprob5">(60.6)</a>的一种方式是，只有当关于永久收入的”新信息”出现时，消费才会发生变化。</p>
<p>以下将对这些观点进行阐述。</p>
</section>
<section id="odr-pi">
<span id="id14"></span><h3><span class="section-number">60.2.5. </span>最优决策规则<a class="headerlink" href="#odr-pi" title="Permalink to this heading">#</a></h3>
<p>现在让我们推导最优决策规则<a class="footnote-reference brackets" href="#fod" id="id15">2</a>。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>解决消费者问题的一种方法是像<a class="reference internal" href="lqcontrol.html"><span class="doc">这节课</span></a>中那样应用<em>动态规划</em>。我们稍后会这样做。但首先我们使用另一种方法，这种方法能揭示动态规划在幕后为我们做的工作。</p>
</div>
<p>在此过程中，我们需要结合</p>
<ol class="arabic simple">
<li><p>最优条件<a class="reference internal" href="#equation-sprob5">(60.6)</a></p></li>
<li><p>逐期预算约束<a class="reference internal" href="#equation-sprob2">(60.2)</a>，以及</p></li>
<li><p>边界条件<a class="reference internal" href="#equation-sprob3">(60.4)</a></p></li>
</ol>
<p>为了实现这一点，首先注意到<a class="reference internal" href="#equation-sprob3">(60.4)</a>意味着<span class="math notranslate nohighlight">\(\lim_{t \to \infty} \beta^{\frac{t}{2}} b_{t+1}= 0\)</span>。</p>
<p>使用这个对债务路径的限制条件，并向前求解<a class="reference internal" href="#equation-sprob2">(60.2)</a>得到</p>
<div class="math notranslate nohighlight" id="equation-sprob6">
<span class="eqno">(60.7)<a class="headerlink" href="#equation-sprob6" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j (y_{t+j} - c_{t+j})\]</div>
<p>对<a class="reference internal" href="#equation-sprob6">(60.7)</a>两边取条件期望，并使用消费的鞅性质和<em>迭代期望法则</em>，可以推导出</p>
<div class="math notranslate nohighlight" id="equation-sprob7">
<span class="eqno">(60.8)<a class="headerlink" href="#equation-sprob7" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - \frac{c_t}{1-\beta}\]</div>
<p>用<span class="math notranslate nohighlight">\(c_t\)</span>表示可得</p>
<div class="math notranslate nohighlight" id="equation-sprob8">
<span class="eqno">(60.9)<a class="headerlink" href="#equation-sprob8" title="Permalink to this equation">#</a></span>\[c_t
 = (1-\beta) \left[ \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - b_t\right]
 = {r \over 1+r} \left[ \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - b_t\right]\]</div>
<p>其中最后一个等式使用了<span class="math notranslate nohighlight">\((1 + r) \beta = 1\)</span>。</p>
<p>这最后两个方程表明消费等于<em>经济收入</em></p>
<ul class="simple">
<li><p><strong>金融财富</strong>等于<span class="math notranslate nohighlight">\(-b_t\)</span></p></li>
<li><p><strong>非金融财富</strong>等于<span class="math notranslate nohighlight">\(\sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}]\)</span></p></li>
<li><p><strong>总财富</strong>等于金融财富和非金融财富之和</p></li>
<li><p><strong>总财富的边际消费倾向</strong>等于利息因子<span class="math notranslate nohighlight">\(\frac{r}{1+r}\)</span></p></li>
<li><p><strong>经济收入</strong>等于</p></li>
<li><p>边际消费倾向常数乘以非金融财富和金融财富的总和</p>
<ul>
<li><p>消费者在保持其财富不变的情况下可以消费的金额</p></li>
</ul>
</li>
</ul>
<section id="id16">
<h4><span class="section-number">60.2.5.1. </span>对状态的响应<a class="headerlink" href="#id16" title="Permalink to this heading">#</a></h4>
<p>消费者在 <span class="math notranslate nohighlight">\(t\)</span> 时面临的<em>状态</em>向量是 <span class="math notranslate nohighlight">\(\begin{bmatrix} b_t &amp; z_t \end{bmatrix}\)</span>。</p>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(z_t\)</span> 是一个<em>外生</em>组成部分，不受消费者行为影响。</p></li>
<li><p><span class="math notranslate nohighlight">\(b_t\)</span> 是一个<em>内生</em>组成部分（因为它取决于决策规则）。</p></li>
</ul>
<p>注意，<span class="math notranslate nohighlight">\(z_t\)</span> 包含所有用于预测消费者未来禀赋的有用变量。</p>
<p>当前决策 <span class="math notranslate nohighlight">\(c_t\)</span> 和 <span class="math notranslate nohighlight">\(b_{t+1}\)</span> 应该可以表示为 <span class="math notranslate nohighlight">\(z_t\)</span> 和 <span class="math notranslate nohighlight">\(b_t\)</span> 的函数，这是合理的。</p>
<p>事实确实如此。</p>
<p>实际上，根据<a class="reference internal" href="linear_models.html#lm-fgs"><span class="std std-ref">这个讨论</span></a>，我们可以看到</p>
<div class="math notranslate nohighlight">
\[
\sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}]
= \mathbb{E}_t \left[ \sum_{j=0}^\infty \beta^j y_{t+j} \right]
= U(I - \beta A)^{-1} z_t
\]</div>
<p>将这个结果与<a class="reference internal" href="#equation-sprob8">(60.9)</a>结合得到</p>
<div class="math notranslate nohighlight" id="equation-pi-cpa">
<span class="eqno">(60.10)<a class="headerlink" href="#equation-pi-cpa" title="Permalink to this equation">#</a></span>\[ \begin{align}\begin{aligned}c_t
 = {r \over 1+r}\\\left[
         U(I - \beta A)^{-1} z_t - b_t
     \right]\end{aligned}\end{align} \]</div>
<p>使用这个等式在预算约束<a class="reference internal" href="#equation-sprob2">(60.2)</a>中消去<span class="math notranslate nohighlight">\(c_t\)</span>得到</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    b_{t+1}
    &amp; = (1 + r) (b_t + c_t - y_t)
    \\
    &amp; = (1 + r) b_t + r [ U(I - \beta A)^{-1} z_t - b_t]  - (1+r) U z_t
    \\
    &amp; = b_t +  U [ r(I - \beta A)^{-1}  - (1+r) I ]  z_t
    \\
    &amp; = b_t +  U (I - \beta A)^{-1} (A - I)   z_t
\end{aligned}
\end{split}\]</div>
<p>从倒数第二个表达式到最后一个表达式的推导并不简单。</p>
<p>关键是要使用<span class="math notranslate nohighlight">\((1 + r) \beta = 1\)</span>和<span class="math notranslate nohighlight">\((I - \beta A)^{-1} = \sum_{j=0}^{\infty} \beta^j A^j\)</span>这两个事实。</p>
<p>现在我们已经成功地将<span class="math notranslate nohighlight">\(c_t\)</span>和<span class="math notranslate nohighlight">\(b_{t+1}\)</span>表示为<span class="math notranslate nohighlight">\(b_t\)</span>和<span class="math notranslate nohighlight">\(z_t\)</span>的函数。</p>
</section>
<section id="id17">
<h4><span class="section-number">60.2.5.2. </span>状态空间表示<a class="headerlink" href="#id17" title="Permalink to this heading">#</a></h4>
<p>我们可以用线性状态空间系统的形式来总结消费、债务和收入的动态:</p>
<div class="math notranslate nohighlight" id="equation-pi-ssr">
<span class="eqno">(60.11)<a class="headerlink" href="#equation-pi-ssr" title="Permalink to this equation">#</a></span>\[ \begin{align}\begin{aligned}\begin{split}\begin{aligned}
  z_{t+1} &amp; = A z_t + C w_{t+1} \\\end{split}\\\begin{split}b_{t+1} &amp; = b_t + U [ (I -\beta A)^{-1} (A - I) ] z_t \\
      y_t &amp; = U z_t \\
      c_t &amp; = (1-\beta) [ U(I-\beta A)^{-1} z_t - b_t ]
\end{aligned}\end{split}\end{aligned}\end{align} \]</div>
<p>更简洁地写，令</p>
<div class="math notranslate nohighlight">
\[\begin{split}
x_t =
\begin{bmatrix}
    z_t\\
    b_t
\end{bmatrix},
\quad
\tilde A =
\begin{bmatrix}
    A &amp; 0 \\
    U(I-\beta A)^{-1}(A-I) &amp; 1
 \end{bmatrix},
 \quad
\tilde C =
\begin{bmatrix}
    C\\
    0
\end{bmatrix}
\end{split}\]</div>
<p>且</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\tilde U =
\begin{bmatrix}
    U &amp; 0 \\
    (1-\beta) U (I - \beta A)^{-1} &amp; -(1-\beta)
\end{bmatrix}, \quad
\tilde y_t =
\begin{bmatrix}
      y_t\\
      c_t
  \end{bmatrix}
\end{split}\]</div>
<p>那么我们可以将方程 <a class="reference internal" href="#equation-pi-ssr">(60.11)</a> 表示为</p>
<div class="math notranslate nohighlight" id="equation-pi-stsp">
<span class="eqno">(60.12)<a class="headerlink" href="#equation-pi-stsp" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
  x_{t+1} &amp; = \tilde A x_t + \tilde C w_{t+1} \\
  \tilde y_t &amp; = \tilde U x_t
\end{aligned}\end{split}\]</div>
<p>我们可以使用<a class="reference internal" href="linear_models.html"><span class="doc">线性状态空间模型</span></a>中的以下公式来计算总体均值 <span class="math notranslate nohighlight">\(\mu_t = \mathbb{E} x_t\)</span> 和协方差 <span class="math notranslate nohighlight">\(\Sigma_t := \mathbb{E} [ (x_t - \mu_t) (x_t - \mu_t)']\)</span></p>
<div class="math notranslate nohighlight" id="equation-lss-mut-perm-income">
<span class="eqno">(60.13)<a class="headerlink" href="#equation-lss-mut-perm-income" title="Permalink to this equation">#</a></span>\[\mu_{t+1} = \tilde A \mu_t
\quad \text{with} \quad \mu_0 \text{ given}\]</div>
<div class="math notranslate nohighlight" id="equation-eqsigmalaw">
<span class="eqno">(60.14)<a class="headerlink" href="#equation-eqsigmalaw" title="Permalink to this equation">#</a></span>\[\Sigma_{t+1}  = \tilde A  \Sigma_t \tilde A' + \tilde C \tilde C'
\quad \text{with} \quad \Sigma_0 \text{ given}\]</div>
<p>然后我们可以通过以下公式计算 <span class="math notranslate nohighlight">\(\tilde y_t\)</span> 的均值和协方差</p>
<div class="math notranslate nohighlight" id="equation-eqymoments">
<span class="eqno">(60.15)<a class="headerlink" href="#equation-eqymoments" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
\mu_{y,t} = \tilde U \mu_t \\
\Sigma_{y,t} = \tilde U \Sigma_t \tilde U'
\end{aligned}\end{split}\]</div>
</section>
<section id="id18">
<h4><span class="section-number">60.2.5.3. </span>一个简单的独立同分布收入示例<a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h4>
<p>为了对<a class="reference internal" href="#equation-pi-ssr">(60.11)</a>的含义有初步的直观认识，让我们看一个高度简化的示例，其中收入是独立同分布的。</p>
<p>(后面的示例将研究更现实的收入流。)</p>
<p>特别地，令 <span class="math notranslate nohighlight">\(\{w_t\}_{t = 1}^{\infty}\)</span> 为独立同分布的标准正态分布标量，并令</p>
<div class="math notranslate nohighlight">
\[\begin{split}
z_t =
\begin{bmatrix}
    z^1_t \\
    1
\end{bmatrix},
\quad
A =
\begin{bmatrix}
    0 &amp; 0 \\
    0 &amp; 1
\end{bmatrix},
\quad
U =
\begin{bmatrix}
    1 &amp; \mu
\end{bmatrix},
\quad
C =
\begin{bmatrix}
    \sigma \\
    0
\end{bmatrix}
\end{split}\]</div>
<p>最后，令 <span class="math notranslate nohighlight">\(b_0 = z^1_0 = 0\)</span>。</p>
<p>在这些假设下，我们有 <span class="math notranslate nohighlight">\(y_t = \mu + \sigma w_t \sim N(\mu, \sigma^2)\)</span>。</p>
<p>此外，如果你推导状态空间表示，你会发现</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    b_t &amp; = - \sigma \sum_{j=1}^{t-1} w_j
    \\
    c_t &amp; = \mu + (1 - \beta) \sigma \sum_{j=1}^t w_j
\end{aligned}
\end{split}\]</div>
<p>因此，收入是独立同分布的，而债务和消费都是高斯随机游走。</p>
<p>将资产定义为 <span class="math notranslate nohighlight">\(-b_t\)</span>，我们可以看到资产就是当前日期之前未预期收入的累积和。</p>
<p>下图显示了一个典型的实现，其中 <span class="math notranslate nohighlight">\(r = 0.05\)</span>，<span class="math notranslate nohighlight">\(\mu = 1\)</span>，且 <span class="math notranslate nohighlight">\(\sigma = 0.15\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">β</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span>
<span class="n">σ</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">μ</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">60</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># w_0, w_1, ..., w_T</span>
    <span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="n">σ</span> <span class="o">*</span> <span class="n">b</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">μ</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">β</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">σ</span> <span class="o">*</span> <span class="n">w</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>

<span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">μ</span> <span class="o">+</span> <span class="n">σ</span> <span class="o">*</span> <span class="n">w</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Non-financial income&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;k-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Consumption&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">b</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Debt&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">ncol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;expand&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.02</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">.102</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e85edf756c42ea08e5af148119fca3895627afb9f3cd8c753f47833bb147852d.png" src="_images/e85edf756c42ea08e5af148119fca3895627afb9f3cd8c753f47833bb147852d.png" />
</div>
</div>
<p>观察到消费比收入更加平稳。</p>
<p>下图显示了250个具有独立收入流的消费者的消费路径</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">b_sum</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">250</span><span class="p">):</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>  <span class="c1"># Generate new time path</span>
    <span class="n">rcolor</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">((</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">rcolor</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Consumption&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d270f6a93b24cd85f051edd67ccfa318f5394d4e6cb75667768e135a2cc99ba7.png" src="_images/d270f6a93b24cd85f051edd67ccfa318f5394d4e6cb75667768e135a2cc99ba7.png" />
</div>
</div>
</section>
</section>
</section>
<section id="id19">
<h2><a class="toc-backref" href="#id50"><span class="section-number">60.3. </span>替代表示方法</a><a class="headerlink" href="#id19" title="Permalink to this heading">#</a></h2>
<p>在本节中，我们通过几种不同的方式来表示储蓄、债务和消费的动态变化，以更清晰地展示它们的演变。</p>
<section id="id20">
<h3><span class="section-number">60.3.1. </span>霍尔的表示方法<a class="headerlink" href="#id20" title="Permalink to this heading">#</a></h3>
<p id="index-3">霍尔 <span id="id21">[<a class="reference internal" href="zreferences.html#id165" title="Robert E Hall. Stochastic Implications of the Life Cycle-Permanent Income Hypothesis: Theory and Evidence. Journal of Political Economy, 86(6):971–987, 1978.">Hall, 1978</a>]</span> 提出了一种富有洞察力的方法来总结LQ永久收入理论的含义。</p>
<p>首先，为了表示<span class="math notranslate nohighlight">\(b_t\)</span>的解，将<a class="reference internal" href="#equation-sprob8">(60.9)</a>向前移动一个时期，并使用<a class="reference internal" href="#equation-sprob2">(60.2)</a>消除<span class="math notranslate nohighlight">\(b_{t+1}\)</span>，得到</p>
<div class="math notranslate nohighlight">
\[
c_{t+1} = (1-\beta)\sum_{j=0}^\infty \beta^j  \mathbb{E}_{t+1} [y_{t+j+1}] -
(1-\beta) \left[ \beta^{-1} (c_t + b_t - y_t) \right]
\]</div>
<p>如果我们在上述方程的右侧加上并减去<span class="math notranslate nohighlight">\(\beta^{-1} (1-\beta) \sum_{j=0}^\infty \beta^j \mathbb{E}_t y_{t+j}\)</span>，并重新整理，我们得到</p>
<div class="math notranslate nohighlight" id="equation-sprob11">
<span class="eqno">(60.16)<a class="headerlink" href="#equation-sprob11" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = (1-\beta) \sum_{j=0}^\infty \beta^j
    \left\{ \mathbb{E}_{t+1} [y_{t+j+1}] - \mathbb{E}_t [y_{t+j+1}] \right\}\]</div>
<p>右边是禀赋过程 <span class="math notranslate nohighlight">\(\{y_t\}\)</span> 的期望现值在时刻 <span class="math notranslate nohighlight">\(t+1\)</span> 的<em>创新</em>。</p>
<p>我们可以用 <a class="reference internal" href="#equation-sprob11">(60.16)</a> 和 <a class="reference internal" href="#equation-sprob7">(60.8)</a> 的形式表示 <span class="math notranslate nohighlight">\((c_t, b_{t+1})\)</span> 的最优决策规则，我们重复如下：</p>
<div class="math notranslate nohighlight" id="equation-sprob7aa">
<span class="eqno">(60.17)<a class="headerlink" href="#equation-sprob7aa" title="Permalink to this equation">#</a></span>\[b_t = \sum_{j=0}^\infty \beta^j \mathbb{E}_t [y_{t+j}] - {1 \over 1-\beta} c_t\]</div>
<p>方程 <a class="reference internal" href="#equation-sprob7aa">(60.17)</a> 表明，消费者在 <span class="math notranslate nohighlight">\(t\)</span> 时刻到期的债务等于其禀赋的期望现值减去其消费流的期望现值。</p>
<p>因此，高债务表明预期有较大的盈余 <span class="math notranslate nohighlight">\(y_t - c_t\)</span> 现值。</p>
<p>回顾我们在 <a class="reference internal" href="linear_models.html#lm-fgs"><span class="std std-ref">预测几何和</span></a> 中的讨论，我们有：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j} &amp;= U (I-\beta A)^{-1} z_t \\
    \mathbb{E}_{t+1} \sum_{j=0}^\infty \beta^j y_{t+j+1} &amp; = U (I -\beta A)^{-1} z_{t+1} \\
    \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j+1} &amp; = U (I - \beta A)^{-1} A z_t
\end{aligned}
\end{split}\]</div>
<p>将这些公式与<a class="reference internal" href="#equation-sprob15ab">(60.3)</a>结合使用，并代入<a class="reference internal" href="#equation-sprob11">(60.16)</a>和<a class="reference internal" href="#equation-sprob7aa">(60.17)</a>，可得到消费者最优决策规则的以下表示：</p>
<div class="math notranslate nohighlight" id="equation-sprob16abcd">
<span class="eqno">(60.18)<a class="headerlink" href="#equation-sprob16abcd" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{aligned}
    c_{t+1} &amp; = c_t + (1-\beta) U  (I-\beta A)^{-1} C w_{t+1} \\
    b_t &amp; = U (I-\beta A)^{-1} z_t - {1 \over 1-\beta} c_t \\
    y_t &amp; = U z_t \\
    z_{t+1} &amp; = A z_t + C w_{t+1}
\end{aligned}\end{split}\]</div>
<p>表示<a class="reference internal" href="#equation-sprob16abcd">(60.18)</a>清楚地表明：</p>
<ul class="simple">
<li><p>状态可以表示为<span class="math notranslate nohighlight">\((c_t, z_t)\)</span>。</p>
<ul>
<li><p>内生部分是<span class="math notranslate nohighlight">\(c_t\)</span>，外生部分是<span class="math notranslate nohighlight">\(z_t\)</span>。</p></li>
<li><p>债务<span class="math notranslate nohighlight">\(b_t\)</span>作为状态的组成部分消失了，因为它已编码在<span class="math notranslate nohighlight">\(c_t\)</span>中。</p></li>
</ul>
</li>
<li><p>消费是一个随机游走，其创新项为<span class="math notranslate nohighlight">\((1-\beta) U  (I-\beta A)^{-1} C w_{t+1}\)</span>。</p>
<ul>
<li><p>这是对<a class="reference internal" href="#equation-sprob5">(60.6)</a>中鞅结果的更明确表示。</p></li>
</ul>
</li>
</ul>
</section>
<section id="coint-pi">
<span id="id22"></span><h3><span class="section-number">60.3.2. </span>协整<a class="headerlink" href="#coint-pi" title="Permalink to this heading">#</a></h3>
<p>表达式 <a class="reference internal" href="#equation-sprob16abcd">(60.18)</a> 揭示了联合过程 <span class="math notranslate nohighlight">\(\{c_t, b_t\}\)</span> 具有 Engle 和 Granger <span id="id23">[<a class="reference internal" href="zreferences.html#id162" title="Robert F Engle and Clive W J Granger. Co-integration and Error Correction: Representation, Estimation, and Testing. Econometrica, 55(2):251–276, 1987.">Engle and Granger, 1987</a>]</span> 所称的<a class="reference external" href="https://en.wikipedia.org/wiki/Cointegration">协整</a>特性。</p>
<p>协整是一种工具，它使我们能够将平稳随机过程理论中的强大结果应用于（某些变换后的）非平稳模型。</p>
<p>要在当前情况下应用协整，假设 <span class="math notranslate nohighlight">\(z_t\)</span> 是渐近平稳的<a class="footnote-reference brackets" href="#fn-as" id="id24">3</a>。</p>
<p>尽管如此，<span class="math notranslate nohighlight">\(c_t\)</span> 和 <span class="math notranslate nohighlight">\(b_t\)</span> 都将是非平稳的，因为它们具有单位根（参见 <a class="reference internal" href="#equation-pi-ssr">(60.11)</a> 中关于 <span class="math notranslate nohighlight">\(b_t\)</span> 的部分）。</p>
<p>然而，<span class="math notranslate nohighlight">\(c_t, b_t\)</span> 的某个线性组合<em>是</em>渐近平稳的。</p>
<p>特别地，从 <a class="reference internal" href="#equation-sprob16abcd">(60.18)</a> 的第二个等式中，我们有</p>
<div class="math notranslate nohighlight" id="equation-pi-spr">
<span class="eqno">(60.19)<a class="headerlink" href="#equation-pi-spr" title="Permalink to this equation">#</a></span>\[(1-\beta) b_t + c_t = (1 - \beta) U (I-\beta A)^{-1} z_t\]</div>
<p>因此，线性组合 <span class="math notranslate nohighlight">\((1-\beta) b_t + c_t\)</span> 是渐近平稳的。</p>
<p>因此，Granger 和 Engle 会将 <span class="math notranslate nohighlight">\(\begin{bmatrix} (1-\beta) &amp; 1 \end{bmatrix}\)</span> 称为状态的<strong>协整向量</strong>。</p>
<p>当应用于非平稳向量过程 <span class="math notranslate nohighlight">\(\begin{bmatrix} b_t  &amp; c_t \end{bmatrix}'\)</span> 时，它产生一个渐近平稳的过程。</p>
<p>方程 <a class="reference internal" href="#equation-pi-spr">(60.19)</a> 可以重新排列为以下形式</p>
<div class="math notranslate nohighlight" id="equation-sprob77">
<span class="eqno">(60.20)<a class="headerlink" href="#equation-sprob77" title="Permalink to this equation">#</a></span>\[(1-\beta) b_t + c_t = (1-\beta) \mathbb{E}_t \sum_{j=0}^\infty \beta^j y_{t+j}\]</div>
<p>方程 <a class="reference internal" href="#equation-sprob77">(60.20)</a> 表明左边的<em>协整残差</em>等于右边未来收入几何和的条件期望 <a class="footnote-reference brackets" href="#f8" id="id25">4</a>。</p>
</section>
<section id="id26">
<h3><span class="section-number">60.3.3. </span>横截面含义<a class="headerlink" href="#id26" title="Permalink to this heading">#</a></h3>
<p>再次考虑 <a class="reference internal" href="#equation-sprob16abcd">(60.18)</a>，这次是基于我们在<a class="reference internal" href="linear_models.html"><span class="doc">线性系统讲座</span></a>中关于分布动态的讨论。</p>
<p><span class="math notranslate nohighlight">\(c_t\)</span> 的动态由下式给出</p>
<div class="math notranslate nohighlight" id="equation-pi-crw">
<span class="eqno">(60.21)<a class="headerlink" href="#equation-pi-crw" title="Permalink to this equation">#</a></span>\[c_{t+1} = c_t + (1-\beta) U  (I-\beta A)^{-1} C w_{t+1}\]</div>
<p>或</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}
c_t = c_0 + \sum_{j=1}^t \hat w_j\\\quad \text{对于} \quad
\hat w_{t+1} := (1-\beta) U  (I-\beta A)^{-1} C w_{t+1}
\end{aligned}\end{align} \]</div>
<p>影响<span class="math notranslate nohighlight">\(c_t\)</span>的单位根导致<span class="math notranslate nohighlight">\(c_t\)</span>在时间<span class="math notranslate nohighlight">\(t\)</span>的方差随<span class="math notranslate nohighlight">\(t\)</span>线性增长。</p>
<p>特别地，由于<span class="math notranslate nohighlight">\(\{ \hat w_t \}\)</span>是独立同分布的，我们有</p>
<div class="math notranslate nohighlight" id="equation-pi-vt">
<span class="eqno">(60.22)<a class="headerlink" href="#equation-pi-vt" title="Permalink to this equation">#</a></span>\[\mathrm{Var}[c_t] = \mathrm{Var}[c_0] + t \, \hat \sigma^2\]</div>
<p>其中</p>
<div class="math notranslate nohighlight">
\[
\hat \sigma^2 := (1-\beta)^2 U  (I-\beta A)^{-1} CC' (I-\beta A')^{-1} U'
\]</div>
<p>当<span class="math notranslate nohighlight">\(\hat \sigma &gt; 0\)</span>时，<span class="math notranslate nohighlight">\(\{c_t\}\)</span>没有渐近分布。</p>
<p>让我们考虑这对于在时间<span class="math notranslate nohighlight">\(0\)</span>出生的事前相同的消费者横截面意味着什么。</p>
<p>让<span class="math notranslate nohighlight">\(c_0\)</span>的分布代表初始消费值的横截面。</p>
<p>方程<a class="reference internal" href="#equation-pi-vt">(60.22)</a>告诉我们<span class="math notranslate nohighlight">\(c_t\)</span>的方差随时间以与<span class="math notranslate nohighlight">\(t\)</span>成比例的速率增加。</p>
<p>许多不同的研究已经调查了这个预测并找到了一些支持证据
（参见，例如，<span id="id27">[<a class="reference internal" href="zreferences.html#id158" title="Angus Deaton and Christina Paxson. Intertemporal Choice and Inequality. Journal of Political Economy, 102(3):437–467, 1994.">Deaton and Paxson, 1994</a>]</span>，<span id="id28">[<a class="reference internal" href="zreferences.html#id223" title="Kjetil Storesletten, Christopher I Telmer, and Amir Yaron. Consumption and risk sharing over the life cycle. Journal of Monetary Economics, 51(3):609–633, 2004.">Storesletten <em>et al.</em>, 2004</a>]</span>）。</p>
</section>
<section id="id29">
<h3><span class="section-number">60.3.4. </span>脉冲响应函数<a class="headerlink" href="#id29" title="Permalink to this heading">#</a></h3>
<p>脉冲响应函数测量对各种脉冲（即临时冲击）的响应。</p>
<p><span class="math notranslate nohighlight">\(\{c_t\}\)</span>对创新<span class="math notranslate nohighlight">\(\{w_t\}\)</span>的脉冲响应函数是一个方框。</p>
<p>特别地，对于所有<span class="math notranslate nohighlight">\(j \geq 1\)</span>，<span class="math notranslate nohighlight">\(c_{t+j}\)</span>对创新<span class="math notranslate nohighlight">\(w_{t+1}\)</span>的单位增加的响应是<span class="math notranslate nohighlight">\((1-\beta) U (I -\beta A)^{-1} C\)</span>。</p>
</section>
<section id="id30">
<h3><span class="section-number">60.3.5. </span>移动平均表示<a class="headerlink" href="#id30" title="Permalink to this heading">#</a></h3>
<p>用收入<span class="math notranslate nohighlight">\(y_t\)</span>的移动平均表示来表达禀赋过程预期现值的创新是很有用的。</p>
<p>由<a class="reference internal" href="#equation-sprob15ab">(60.3)</a>定义的禀赋过程具有移动平均表示</p>
<div class="math notranslate nohighlight" id="equation-sprob12">
<span class="eqno">(60.23)<a class="headerlink" href="#equation-sprob12" title="Permalink to this equation">#</a></span>\[y_{t+1} = d(L) w_{t+1}\]</div>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(d(L) = \sum_{j=0}^\infty d_j L^j\)</span>，对某个序列<span class="math notranslate nohighlight">\(d_j\)</span>成立，这里<span class="math notranslate nohighlight">\(L\)</span>是滞后算子<a class="footnote-reference brackets" href="#f4" id="id31">5</a></p></li>
<li><p>在时间<span class="math notranslate nohighlight">\(t\)</span>，消费者有信息集<a class="footnote-reference brackets" href="#f5" id="id32">6</a> <span class="math notranslate nohighlight">\(w^t = [w_t, w_{t-1}, \ldots ]\)</span></p></li>
</ul>
<p>注意到</p>
<div class="math notranslate nohighlight">
\[
y_{t+j} - \mathbb{E}_t [y_{t+j}] = d_0 w_{t+j} + d_1 w_{t+j-1} + \cdots + d_{j-1} w_{t+1}
\]</div>
<p>因此</p>
<div class="math notranslate nohighlight" id="equation-sprob120">
<span class="eqno">(60.24)<a class="headerlink" href="#equation-sprob120" title="Permalink to this equation">#</a></span>\[\mathbb{E}_{t+1} [y_{t+j}] - \mathbb{E}_t [y_{t+j}] = d_{j-1} w_{t+1}\]</div>
<p>将<a class="reference internal" href="#equation-sprob120">(60.24)</a>代入<a class="reference internal" href="#equation-sprob11">(60.16)</a>得到</p>
<div class="math notranslate nohighlight" id="equation-sprob13">
<span class="eqno">(60.25)<a class="headerlink" href="#equation-sprob13" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = (1-\beta) d(\beta) w_{t+1}\]</div>
<p>对象<span class="math notranslate nohighlight">\(d(\beta)\)</span>是禀赋过程<span class="math notranslate nohighlight">\(y_t\)</span>表示中的<strong>移动平均系数的现值</strong>。</p>
</section>
</section>
<section id="sub-classic-consumption">
<span id="id33"></span><h2><a class="toc-backref" href="#id51"><span class="section-number">60.4. </span>两个经典例子</a><a class="headerlink" href="#sub-classic-consumption" title="Permalink to this heading">#</a></h2>
<p>我们用两个例子来说明前面的一些概念。</p>
<p>在这两个例子中,禀赋都遵循过程<span class="math notranslate nohighlight">\(y_t = z_{1t} + z_{2t}\)</span>,其中</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
  z_{1 t+1} \\
  z_{2t+1}
\end{bmatrix} =
\begin{bmatrix}
  1 &amp; 0 \\
  0 &amp; 0
\end{bmatrix}
\begin{bmatrix}
  z_{1t} \\
  z_{2t}
\end{bmatrix} + \begin{bmatrix}
      \sigma_1 &amp; 0 \\
      0 &amp; \sigma_2
  \end{bmatrix}
  \begin{bmatrix}
      w_{1t+1} \\
      w_{2t+1}
  \end{bmatrix}
\end{split}\]</div>
<p>这里</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(w_{t+1}\)</span>是一个IID <span class="math notranslate nohighlight">\(2 \times 1\)</span>过程,服从<span class="math notranslate nohighlight">\(N(0,I)\)</span>分布。</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{1t}\)</span>是<span class="math notranslate nohighlight">\(y_t\)</span>的永久性成分。</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{2t}\)</span> 是 <span class="math notranslate nohighlight">\(y_t\)</span> 的纯暂时性组成部分。</p></li>
</ul>
<section id="id34">
<h3><span class="section-number">60.4.1. </span>示例1<a class="headerlink" href="#id34" title="Permalink to this heading">#</a></h3>
<p>假设和之前一样，消费者在t时刻观察到状态 <span class="math notranslate nohighlight">\(z_t\)</span>。</p>
<p>根据公式 <a class="reference internal" href="#equation-sprob16abcd">(60.18)</a>，我们有</p>
<div class="math notranslate nohighlight" id="equation-consexample1">
<span class="eqno">(60.26)<a class="headerlink" href="#equation-consexample1" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = \sigma_1 w_{1t+1} + (1-\beta) \sigma_2 w_{2t+1}\]</div>
<p>公式 <a class="reference internal" href="#equation-consexample1">(60.26)</a> 显示了收入永久性组成部分 <span class="math notranslate nohighlight">\(z_{1t+1}\)</span> 的增量 <span class="math notranslate nohighlight">\(\sigma_1 w_{1t+1}\)</span> 如何导致：</p>
<ul class="simple">
<li><p>消费的一对一永久性增加</p></li>
<li><p>储蓄 <span class="math notranslate nohighlight">\(-b_{t+1}\)</span> 没有增加</p></li>
</ul>
<p>但收入的纯暂时性组成部分 <span class="math notranslate nohighlight">\(\sigma_2 w_{2t+1}\)</span> 导致消费永久性增加了暂时性收入的 <span class="math notranslate nohighlight">\(1-\beta\)</span> 部分。</p>
<p>剩余的 <span class="math notranslate nohighlight">\(β\)</span> 部分被储蓄，导致 <span class="math notranslate nohighlight">\(-b_{t+1}\)</span> 的永久性增加。</p>
<p>将 <a class="reference internal" href="#equation-pi-ssr">(60.11)</a> 中的债务公式应用于这个例子，显示：</p>
<div class="math notranslate nohighlight" id="equation-consexample1a">
<span class="eqno">(60.27)<a class="headerlink" href="#equation-consexample1a" title="Permalink to this equation">#</a></span>\[b_{t+1} - b_t = - z_{2t} = - \sigma_2 w_{2t}\]</div>
<p>这证实了 <span class="math notranslate nohighlight">\(\sigma_1 w_{1t}\)</span> 完全不被储蓄，而 <span class="math notranslate nohighlight">\(\sigma_2 w_{2t}\)</span> 则全部被储蓄。</p>
<p>下图展示了脉冲响应函数，说明了对暂时性和永久性收入冲击的这些非常不同的反应。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">β</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span>
<span class="n">S</span> <span class="o">=</span> <span class="mi">5</span>   <span class="c1"># 脉冲日期</span>
<span class="n">σ1</span> <span class="o">=</span> <span class="n">σ2</span> <span class="o">=</span> <span class="mf">0.15</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">time_path</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="s2">&quot;给定冲击序列的消费和债务时间路径&quot;</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">permanent</span><span class="p">:</span>
        <span class="n">w1</span><span class="p">[</span><span class="n">S</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">w2</span><span class="p">[</span><span class="n">S</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="n">σ2</span> <span class="o">*</span> <span class="n">w2</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>
        <span class="n">c</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">σ1</span> <span class="o">*</span> <span class="n">w1</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">β</span><span class="p">)</span> <span class="o">*</span> <span class="n">σ2</span> <span class="o">*</span> <span class="n">w2</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;永久性&#39;</span><span class="p">,</span> <span class="s1">&#39;暂时性&#39;</span><span class="p">]</span>

<span class="n">L</span> <span class="o">=</span> <span class="mf">0.175</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">truefalse</span><span class="p">,</span> <span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span> <span class="n">titles</span><span class="p">):</span>
    <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">time_path</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="n">truefalse</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;脉冲响应：</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s1">收入冲击&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;消费&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;债务&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">S</span><span class="p">,</span> <span class="n">S</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="n">L</span><span class="p">),</span> <span class="s1">&#39;k-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;时间&#39;</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f1204a290f2463e533ab5223f5d2ca7ec3f27fd1b4a1364c01c49986bd49177e.png" src="_images/f1204a290f2463e533ab5223f5d2ca7ec3f27fd1b4a1364c01c49986bd49177e.png" />
</div>
</div>
<p>注意永久性收入冲击如何不会改变资产 <span class="math notranslate nohighlight">\(-b_{t+1}\)</span>，而是导致消费立即发生与非金融收入永久性增量相等的永久性变化。</p>
<p>相比之下，注意暂时性收入冲击大部分被储蓄，只有很小一部分被消费。</p>
<p>消费对这两种冲击的方框状脉冲响应反映了最优消费决策的随机游走特性。</p>
</section>
<section id="id35">
<h3><span class="section-number">60.4.2. </span>示例2<a class="headerlink" href="#id35" title="Permalink to this heading">#</a></h3>
<p>现在假设在时间 <span class="math notranslate nohighlight">\(t\)</span>，消费者观察到 <span class="math notranslate nohighlight">\(y_t\)</span> 及其直到 <span class="math notranslate nohighlight">\(t\)</span> 的历史，但没有观察到 <span class="math notranslate nohighlight">\(z_t\)</span>。</p>
<p>在这个假设下，使用<em>创新表示</em>来构建<a class="reference internal" href="#equation-sprob16abcd">(60.18)</a>中的 <span class="math notranslate nohighlight">\(A, C, U\)</span> 是合适的。</p>
<p><span id="id36">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span>第2.9.1和2.11.3节的讨论表明，<span class="math notranslate nohighlight">\(y_t\)</span> 的相关状态空间表示为</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{split}
\begin{aligned}
  \begin{bmatrix}
    y_{t+1} \\
    a_{t+1}
  \end{bmatrix}
    &amp; =
    \begin{bmatrix}
        1 &amp; -(1 - K) \\
        0 &amp; 0
    \end{bmatrix}
    \begin{bmatrix}\end{split}\\\begin{split}y_t \\
        a_t
    \end{bmatrix} +
    \begin{bmatrix}
        1 \\
        1
    \end{bmatrix}
    a_{t+1}
    \\
    y_t
    &amp; =
    \begin{bmatrix}
        1 &amp; 0
    \end{bmatrix}
    \begin{bmatrix}
        y_t \\
        a_t
    \end{bmatrix}
\end{aligned}
\end{split}\end{aligned}\end{align} \]</div>
<p>其中</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(K :=\)</span> 稳态卡尔曼增益</p></li>
<li><p><span class="math notranslate nohighlight">\(a_t := y_t - E [ y_t \,|\, y_{t-1}, \ldots, y_0]\)</span></p></li>
</ul>
<p>在<span id="id37">[<a class="reference internal" href="zreferences.html#id186" title="L Ljungqvist and T J Sargent. Recursive Macroeconomic Theory. MIT Press, 4 edition, 2018.">Ljungqvist and Sargent, 2018</a>]</span>的相同讨论中表明<span class="math notranslate nohighlight">\(K \in [0,1]\)</span>，且<span class="math notranslate nohighlight">\(K\)</span>随着<span class="math notranslate nohighlight">\(\sigma_1/\sigma_2\)</span>的增加而增加。</p>
<p>换句话说，<span class="math notranslate nohighlight">\(K\)</span>随着永久性冲击的标准差与暂时性冲击的标准差之比的增加而增加。</p>
<p>请参见<a class="reference internal" href="kalman.html"><span class="doc">first look at the Kalman filter</span></a>。</p>
<p>应用公式<a class="reference internal" href="#equation-sprob16abcd">(60.18)</a>可得</p>
<div class="math notranslate nohighlight" id="equation-consexample2">
<span class="eqno">(60.28)<a class="headerlink" href="#equation-consexample2" title="Permalink to this equation">#</a></span>\[c_{t+1} - c_t = [1-\beta(1-K) ] a_{t+1}\]</div>
<p>其中禀赋过程现在可以用<span class="math notranslate nohighlight">\(y_t\)</span>的单变量创新表示为</p>
<div class="math notranslate nohighlight" id="equation-incomemaar">
<span class="eqno">(60.29)<a class="headerlink" href="#equation-incomemaar" title="Permalink to this equation">#</a></span>\[y_{t+1} - y_t = a_{t+1} - (1-K) a_t\]</div>
<p>方程 <a class="reference internal" href="#equation-incomemaar">(60.29)</a> 表明消费者认为</p>
<ul class="simple">
<li><p>创新 <span class="math notranslate nohighlight">\(a_{t+1}\)</span> 中的 <span class="math notranslate nohighlight">\(K\)</span> 部分是<em>永久性的</em></p></li>
<li><p><span class="math notranslate nohighlight">\(1-K\)</span> 部分是纯粹暂时性的</p></li>
</ul>
<p>消费者会根据他对 <span class="math notranslate nohighlight">\(a_{t+1}\)</span> 永久部分的估计,永久性地增加相应数额的消费,但对于他估计的纯粹暂时性部分,只增加 <span class="math notranslate nohighlight">\((1-\beta)\)</span> 倍。</p>
<p>因此,总的来说,他会永久性地增加消费 <span class="math notranslate nohighlight">\(a_{t+1}\)</span> 的 <span class="math notranslate nohighlight">\(K + (1-\beta) (1-K) = 1 - \beta (1-K)\)</span> 部分。</p>
<p>他会储蓄剩余的 <span class="math notranslate nohighlight">\(\beta (1-K)\)</span> 部分。</p>
<p>根据方程 <a class="reference internal" href="#equation-incomemaar">(60.29)</a>,收入的一阶差分是一阶移动平均。</p>
<p>方程 <a class="reference internal" href="#equation-consexample2">(60.28)</a> 表明消费的一阶差分是独立同分布的。</p>
<p>将公式应用于这个例子可得:</p>
<div class="math notranslate nohighlight" id="equation-consexample1b">
<span class="eqno">(60.30)<a class="headerlink" href="#equation-consexample1b" title="Permalink to this equation">#</a></span>\[b_{t+1} - b_t = (K-1) a_t\]</div>
<p>这表明创新 <span class="math notranslate nohighlight">\(y_t\)</span> 中被视为永久性的部分 <span class="math notranslate nohighlight">\(K\)</span> 如何影响被储蓄的创新比例。</p>
</section>
</section>
<section id="id38">
<h2><a class="toc-backref" href="#id52"><span class="section-number">60.5. </span>延伸阅读</a><a class="headerlink" href="#id38" title="Permalink to this heading">#</a></h2>
<p>上述模型显著改变了经济学家对消费的思考方式。</p>
<p>虽然霍尔的模型作为消费数据的首次近似表现出色，但人们普遍认为它并未捕捉到某些消费/储蓄数据的重要方面。</p>
<p>例如，流动性约束和预防性储蓄有时似乎会出现。</p>
<p>更多讨论可以在以下文献中找到：<span id="id39">[<a class="reference internal" href="zreferences.html#id166" title="Robert E Hall and Frederic S Mishkin. The Sensitivity of Consumption to Transitory Income: Estimates from Panel Data on Households. National Bureau of Economic Research Working Paper Series, 1982.">Hall and Mishkin, 1982</a>]</span>、<span id="id40">[<a class="reference internal" href="zreferences.html#id201" title="Jonathan A Parker. The Reaction of Household Consumption to Predictable Changes in Social Security Taxes. American Economic Review, 89(4):959–973, 1999.">Parker, 1999</a>]</span>、<span id="id41">[<a class="reference internal" href="zreferences.html#id157" title="Angus Deaton. Saving and Liquidity Constraints. Econometrica, 59(5):1221–1248, 1991.">Deaton, 1991</a>]</span>、<span id="id42">[<a class="reference internal" href="zreferences.html#id153" title="Christopher D Carroll. A Theory of the Consumption Function, with and without Liquidity Constraints. Journal of Economic Perspectives, 15(3):23–45, 2001.">Carroll, 2001</a>]</span>。</p>
</section>
<section id="perm-income-appendix">
<span id="id43"></span><h2><a class="toc-backref" href="#id53"><span class="section-number">60.6. </span>附录：欧拉方程</a><a class="headerlink" href="#perm-income-appendix" title="Permalink to this heading">#</a></h2>
<p>一阶条件<a class="reference internal" href="#equation-sprob4">(60.5)</a>是从何而来的？</p>
<p>这里我们将给出两期情况的证明，这代表了一般论证的典型。</p>
<p>有限期限等价的无庞氏条件是代理人</p>
<p>她不能带着债务结束生命，所以 <span class="math notranslate nohighlight">\(b_2 = 0\)</span>。</p>
<p>从预算约束 <a class="reference internal" href="#equation-sprob2">(60.2)</a> 我们可得</p>
<div class="math notranslate nohighlight">
\[
c_0 = \frac{b_1}{1 + r} - b_0 + y_0
\quad \text{和} \quad
c_1 = y_1 - b_1
\]</div>
<p>这里 <span class="math notranslate nohighlight">\(b_0\)</span> 和 <span class="math notranslate nohighlight">\(y_0\)</span> 是给定的常数。</p>
<p>将这些约束代入我们的两期目标函数 <span class="math notranslate nohighlight">\(u(c_0) + \beta \mathbb{E}_0 [u(c_1)]\)</span> 得到</p>
<div class="math notranslate nohighlight">
\[
\max_{b_1}
 \left\{
     u \left(\frac{b_1}{R} - b_0 + y_0 \right) +
     \beta \, \mathbb{E}_0 [ u (y_1 - b_1) ]
\right\}
\]</div>
<p>你可以验证一阶条件是</p>
<div class="math notranslate nohighlight">
\[
u'(c_0) = \beta R  \,\mathbb{E}_0 [u'(c_1)]
\]</div>
<p>使用 <span class="math notranslate nohighlight">\(\beta R = 1\)</span> 得到两期情况下的 <a class="reference internal" href="#equation-sprob4">(60.5)</a>。</p>
<p>一般情况下的证明类似。</p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id13">1</a></span></dt>
<dd><p>线性边际效用对于从<a class="reference internal" href="#equation-sprob4">(60.5)</a>推导出<a class="reference internal" href="#equation-sprob5">(60.6)</a>至关重要。假设我们对效用函数施加以下更标准的假设：<span class="math notranslate nohighlight">\(u'(c) &gt;0, u''(c)&lt;0, u'''(c) &gt; 0\)</span>并要求<span class="math notranslate nohighlight">\(c \geq 0\)</span>。欧拉方程仍然是<a class="reference internal" href="#equation-sprob4">(60.5)</a>。但是<span class="math notranslate nohighlight">\(u''' &lt;0\)</span>通过延森不等式意味着<span class="math notranslate nohighlight">\(\mathbb{E}_t [u'(c_{t+1})] &gt;  u'(\mathbb{E}_t [c_{t+1}])\)</span>。这个不等式与<a class="reference internal" href="#equation-sprob4">(60.5)</a>一起意味着<span class="math notranslate nohighlight">\(\mathbb{E}_t [c_{t+1}] &gt; c_t\)</span>（消费被称为”次鞅”），因此消费随机发散到<span class="math notranslate nohighlight">\(+\infty\)</span>。消费者的储蓄也发散到<span class="math notranslate nohighlight">\(+\infty\)</span>。</p>
</dd>
<dt class="label" id="fod"><span class="brackets"><a class="fn-backref" href="#id15">2</a></span></dt>
<dd><p>最优决策规则是从当前状态到当前行动（在这种情况下是消费）的映射。</p>
</dd>
<dt class="label" id="fn-as"><span class="brackets"><a class="fn-backref" href="#id24">3</a></span></dt>
<dd><p>例如，如果<span class="math notranslate nohighlight">\(A\)</span>的<a class="reference internal" href="linear_algebra.html#la-neumann-remarks"><span class="std std-ref">谱半径</span></a>严格小于1，就会出现这种情况。</p>
</dd>
<dt class="label" id="f8"><span class="brackets"><a class="fn-backref" href="#id25">4</a></span></dt>
<dd><p>相关思想的有趣应用请参见<span id="id44">[<a class="reference internal" href="zreferences.html#id106" title="Robert J. Shiller John Y. Campbell. The Dividend-Price Ratio and Expectations of Future Dividends and Discount Factors. Review of Financial Studies, 1(3):195-228, 1988.">John Y. Campbell, 1988</a>]</span>、<span id="id45">[<a class="reference internal" href="zreferences.html#id105" title="Martin Lettau and Sydney Ludvigson. Consumption, Aggregate Wealth, and Expected Stock Returns. Journal of Finance, 56(3):815-849, 06 2001.">Lettau and Ludvigson, 2001</a>]</span>、<span id="id46">[<a class="reference internal" href="zreferences.html#id104" title="Martin Lettau and Sydney C. Ludvigson. Understanding Trend and Cycle in Asset Values: Reevaluating the Wealth Effect on Consumption. American Economic Review, 94(1):276-299, March 2004.">Lettau and Ludvigson, 2004</a>]</span>。</p>
</dd>
<dt class="label" id="f4"><span class="brackets"><a class="fn-backref" href="#id31">5</a></span></dt>
<dd><p>表示<a class="reference internal" href="#equation-sprob15ab">(60.3)</a>意味着<span class="math notranslate nohighlight">\(d(L) = U (I - A L)^{-1} C\)</span>。</p>
</dd>
<dt class="label" id="f5"><span class="brackets"><a class="fn-backref" href="#id32">6</a></span></dt>
<dd><p>如果由<span class="math notranslate nohighlight">\(y^t\)</span>张成的线性空间等于由<span class="math notranslate nohighlight">\(w^t\)</span>张成的线性空间，则过程<span class="math notranslate nohighlight">\(y_t\)</span>的移动平均表示被称为<strong>基本的</strong>。通过卡尔曼滤波获得的时不变创新表示在构造上是基本的。</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                    <p>A theme by <a href="https://quantecon.org">QuantEcon</a></p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  工具与技术
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="sir_model.html">
   1. 新冠病毒建模
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linear_algebra.html">
   2. 线性代数
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="qr_decomp.html">
   3. QR分解
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eig_circulant.html">
   4. 循环矩阵
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="svd_intro.html">
   5. 奇异值分解（SVD）
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="var_dmd.html">
   6. 向量自回归和动态模态分解
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="newton_method.html">
   7. 使用牛顿法求解经济模型
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  基础统计学
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="prob_matrix.html">
   8. 基础概率论与矩阵
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lln_clt.html">
   9. 大数定律 和 中心极限定理
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="prob_meaning.html">
   10. 概率的两种含义
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multi_hyper.html">
   11. 多元超几何分布
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="multivariate_normal.html">
   12. 多元正态分布
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hoist_failure.html">
   13. 故障树不确定性
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="back_prop.html">
   14. 人工神经网络简介
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rand_resp.html">
   15. 随机化回应调查
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="util_rand_resp.html">
   16. 随机回答的期望效用
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  线性规划
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="opt_transport.html">
   17. 最优传输
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="von_neumann_model.html">
   18. 冯·诺依曼增长模型（及其推广）
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  动态系统导论
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="finite_markov.html">
   19. 有限马尔可夫链
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inventory_dynamics.html">
   20. 库存动态
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linear_models.html">
   21. 线性状态空间模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="samuelson.html">
   22. 萨缪尔森乘数-加速器模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kesten_processes.html">
   23. Kesten过程与企业动态
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wealth_dynamics.html">
   24. 财富分布动态
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kalman.html">
   25. 卡尔曼滤波初探
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kalman_2.html">
   26. 卡尔曼滤波器的另一个视角
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  搜索
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_model.html">
   27. 求职搜索 I: McCall搜寻模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_model_with_separation.html">
   28. 求职搜索 II：搜寻与离职
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_fitted_vfi.html">
   29. 求职搜索 III: 拟合值函数迭代
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_correlated.html">
   30. 求职搜索 IV：相关工资报价
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="career.html">
   31. 求职搜索 V：职业选择建模
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="jv.html">
   32. 求职搜索 VI：在职搜索
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mccall_q.html">
   33. 求职搜索 VII：McCall劳动者的Q学习
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  消费、储蓄与资本
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="cass_koopmans_1.html">
   34. Cass-Koopmans模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cass_koopmans_2.html">
   35. Cass-Koopmans竞争均衡
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cass_fiscal.html">
   36. 带扭曲性税收的Cass-Koopmans模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ak2.html">
   37. 重叠世代模型中的转换
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cake_eating_problem.html">
   38. 蛋糕食用问题 I：最优储蓄导论
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cake_eating_numerical.html">
   39. 蛋糕食用问题 II：数值方法
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="optgrowth.html">
   40. 最优增长 I：随机最优增长模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="optgrowth_fast.html">
   41. 最优增长 II：使用Numba加速代码
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coleman_policy_iter.html">
   42. 最优增长 III：时间迭代
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="egm_policy_iter.html">
   43. 最优增长 IV：内生网格法
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ifp.html">
   44. 收入波动问题 I：基本模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ifp_advanced.html">
   45. 收入波动问题 II：资产随机收益
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  贝叶斯定律
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="bayes_nonconj.html">
   46. 非共轭先验
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ar1_bayes.html">
   47. AR(1)参数的后验分布
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ar1_turningpts.html">
   48. 预测 AR(1) 过程
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  信息论
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="odu.html">
   49. 求职搜索 VII: 带学习的搜索
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="likelihood_ratio_process.html">
   50. 似然比过程
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="imp_sample.html">
   51. 计算似然比过程的均值
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wald_friedman.html">
   52. 让弥尔顿·弗里德曼困惑的问题
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="exchangeable.html">
   53. 可交换性和贝叶斯更新
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="likelihood_bayes.html">
   54. 似然比过程和贝叶斯学习
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mix_model.html">
   55. 错误模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="navy_captain.html">
   56. 贝叶斯与频率主义决策规则的比较
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  LQ控制
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lqcontrol.html">
   57. LQ控制：基础
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lagrangian_lqdp.html">
   58. LQ控制的拉格朗日方法
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cross_product_trick.html">
   59. 消除交叉项
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   60. 永久收入模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="perm_income_cons.html">
   61. 永久收入 II：线性二次方法
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lq_inventories.html">
   62. 通过库存实现生产平滑
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  多主体模型
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lake_model.html">
   63. 就业和失业的湖泊模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rational_expectations.html">
   64. 理性预期均衡
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="re_with_feedback.html">
   65. 线性理性预期模型中的稳定性
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_perf.html">
   66. 马尔可夫完美均衡
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="uncertainty_traps.html">
   67. 不确定性陷阱
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="aiyagari.html">
   68. 艾亚加里模型
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  资产定价与金融
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="markov_asset.html">
   69. 资产定价：有限状态模型
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ge_arrow.html">
   70. 带有阿罗证券的竞争均衡
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="harrison_kreps.html">
   71. 异质信念与泡沫
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  数据与实证
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="pandas_panel.html">
   72. 面板数据的Pandas使用
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ols.html">
   73. Python线性回归
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mle.html">
   74. 最大似然估计
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  拍卖
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="two_auctions.html">
   75. 一价和二价拍卖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="house_auction.html">
   76. 多种商品分配机制
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  其他
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   77. 故障排除
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   78. 参考文献
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   79. 执行统计
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="/_notebooks/perm_income.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <!--
                    # Enable if looking for link to specific document hosted on GitHub
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python.myst/perm_income.md" download><i data-feather="github"></i></a></li>
                    -->
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python.myst" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://colab.research.google.com/github/QuantEcon/lecture-python.zh-cn.notebooks/blob/main/perm_income.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/QuantEcon/lecture-python.zh-cn.notebooks" data-urlpath="tree/lecture-python.zh-cn.notebooks/perm_income.ipynb" data-branch=main>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://colab.research.google.com/github/QuantEcon/lecture-python.zh-cn.notebooks/blob/main/perm_income.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "perm_income";
                const repoURL = "https://github.com/QuantEcon/lecture-python.zh-cn.notebooks";
                const urlPath = "tree/lecture-python.zh-cn.notebooks/perm_income.ipynb";
                const branch = "main"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>